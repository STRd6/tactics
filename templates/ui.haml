- ui = this

.ui
  %pre.messages
    - each @messages, (message) ->
      = message
  .actions
    - each @actions, (action) ->
      - activeClass = -> "active" if action.active()
      - disabledClass = -> "disabled" if action.disabled()
      .action(class=activeClass class=disabledClass style="background-image: url(#{action.icon})")
        .costs
          .container
            - cost = action?.ability?.actionCost() || 0
            - cost.times ->
              .cost(style="width:#{(1/cost) * 100}%;")
        = action.name
        - on "click", ->
          - unless action.disabled()
            - action.perform()
            - ui.actionPerformed()
